<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Kanban - Visualizador Local</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“‹ Live Kanban</h1>
            <div class="project-loader">
                <input
                    type="text"
                    id="projectPath"
                    placeholder="Cole o caminho do projeto (ex: /Users/seu-nome/projeto)"
                    value=""
                />
                <button id="loadBtn">Carregar Projeto</button>
            </div>
        </header>

        <div id="mainContent" class="hidden">
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="kanban">Kanban</button>
                <button class="tab-btn" data-tab="metadata">Objetivo & Status</button>
                <button class="tab-btn" data-tab="guide">â“ Guia LLM</button>
            </div>

            <!-- Tab: Kanban -->
            <div id="kanban-tab" class="tab-content active">
                <div class="kanban-board">
                    <div class="kanban-column" data-column="todo">
                        <h2>ğŸ“ To Do</h2>
                        <div class="tasks-container" id="todo-tasks"></div>
                    </div>
                    <div class="kanban-column" data-column="doing">
                        <h2>âš™ï¸ Doing</h2>
                        <div class="tasks-container" id="doing-tasks"></div>
                    </div>
                    <div class="kanban-column" data-column="done">
                        <h2>âœ… Done</h2>
                        <div class="tasks-container" id="done-tasks"></div>
                    </div>
                </div>
            </div>

            <!-- Tab: Metadata -->
            <div id="metadata-tab" class="tab-content">
                <div class="metadata-grid">
                    <div class="metadata-section">
                        <div class="section-header">
                            <button id="edit-objetivo-btn" class="edit-btn">âœï¸ Editar Objetivo</button>
                        </div>
                        <div id="objetivo-content" class="markdown-content"></div>
                        <textarea id="objetivo-editor" class="markdown-editor hidden"></textarea>
                        <div id="objetivo-actions" class="editor-actions hidden">
                            <button id="save-objetivo-btn" class="save-btn">ğŸ’¾ Salvar</button>
                            <button id="cancel-objetivo-btn" class="cancel-btn">âœ–ï¸ Cancelar</button>
                        </div>
                    </div>
                    <div class="metadata-section">
                        <div class="section-header">
                            <button id="edit-status-btn" class="edit-btn">âœï¸ Editar Status</button>
                        </div>
                        <div id="status-content" class="markdown-content"></div>
                        <textarea id="status-editor" class="markdown-editor hidden"></textarea>
                        <div id="status-actions" class="editor-actions hidden">
                            <button id="save-status-btn" class="save-btn">ğŸ’¾ Salvar</button>
                            <button id="cancel-status-btn" class="cancel-btn">âœ–ï¸ Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab: Guia LLM -->
            <div id="guide-tab" class="tab-content">
                <div class="guide-section">
                    <div id="guide-content" class="markdown-content"></div>
                </div>
            </div>
        </div>

        <div id="emptyState" class="empty-state">
            <h2>ğŸ‘‹ Bem-vindo ao Live Kanban!</h2>
            <p>Cole o caminho do seu projeto acima para comeÃ§ar.</p>
            <p class="hint">O projeto deve conter os arquivos: <code>objetivo.md</code>, <code>status.md</code>, <code>tasks.json</code> e <code>llm-guide.md</code></p>
        </div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>
</html>
