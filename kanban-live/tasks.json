{
  "milestones": [
    {
      "id": "m1",
      "titulo": "MVP",
      "descricao": "Funcionalidades essenciais do Kanban",
      "cor": "#3b82f6"
    },
    {
      "id": "m2",
      "titulo": "Melhorias UX",
      "descricao": "Interface e experi√™ncia do usu√°rio",
      "cor": "#8b5cf6"
    },
    {
      "id": "m3",
      "titulo": "Integra√ß√£o IA",
      "descricao": "Funcionalidades com agentes e LLMs",
      "cor": "#10b981"
    },
    {
      "id": "m4",
      "titulo": "Futuro",
      "descricao": "Funcionalidades futuras e experimentais",
      "cor": "#f59e0b"
    },
    {
      "id": "m4905",
      "titulo": "Tses",
      "cor": "#3b82f6"
    },
    {
      "id": "m5596",
      "titulo": "Integra√ß√£o Notion",
      "cor": "#53d08f"
    },
    {
      "id": "m6021",
      "titulo": "Melhorias Tasks",
      "cor": "#98b4e1"
    },
    {
      "id": "m8738",
      "titulo": "Timeline A√ß√µes Tasks",
      "cor": "#d963c9"
    },
    {
      "id": "m2972",
      "titulo": "Git",
      "cor": "#eaf73b"
    },
    {
      "id": "m1101",
      "titulo": "Milestones",
      "cor": "#14161a"
    },
    {
      "id": "m3875",
      "titulo": "Bugs",
      "cor": "#46494e"
    }
  ],
  "backlog": [
    {
      "id": "t2118",
      "descricao": "Ao clicar na IA da taks, confirmar que o user quer usar, n√£o fazer automatico",
      "milestone": "m3",
      "dataCriacao": "2025-12-04T01:34:32-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T01:34:32-03:00"
        }
      ]
    },
    {
      "id": "t7256",
      "descricao": "Corrigir visibilidade do bot√£o \"Setup\" para projetos j√° configurados",
      "detalhes": "O que precisa ser feito:\n\n- Reproduzir o bug (verificar quando o bot√£o Setup aparece indevidamente).\n- Implementar checagem confi√°vel de \"projeto com setup\" no cliente (usar API existente /api/board ou novo helper) e esconder o bot√£o quando o projeto j√° cont√©m a estrutura kanban-live v√°lida (ex.: presen√ßa de `tasks.json` com `milestones`).\n- Atualizar a UI (Header) para usar essa checagem reativa ao mudar o path e garantir comportamento consistente com o padr√£o do projeto.\n\nArquivos a modificar (prov√°veis):\n\n- client/src/components/Header.tsx  // l√≥gica de exibi√ß√£o do bot√£o Setup\n- client/src/lib/api.ts            // adicionar isProjectSetup(path): Promise<boolean>\n- client/src/contexts/BoardContext.tsx  // (se necess√°rio) expor estado de setup do projeto\n- kanban-live/tasks.json           // (apenas leitura/valida√ß√£o durante testes de reprodu√ß√£o)\n\nObserva√ß√µes / Requisitos t√©cnicos:\n\n- A checagem deve usar o endpoint GET /api/board?path=... (client/src/lib/api.ts j√° cont√©m cliente HTTP). Considerar duas formas de valida√ß√£o:\n  1) Endpoint retorna success + estrutura com `milestones` e colunas -> considerar projeto como \"setup conclu√≠do\".\n  2) Se backend retornar 404 ou JSON inv√°lido, considerar n√£o configurado.\n\n- Siga os padr√µes do projeto:\n  - Importar tipos com import type { Task, Milestone } from '@/types.js'\n  - N√£o modificar componentes shadcn/ui manualmente (use CLI caso precise adicionar componentes).\n  - Usar sonner para toasts j√° existentes ao reportar erro/falha de checagem.\n\n‚ö†Ô∏è Warnings:\n- ‚ö†Ô∏è N√£o editar `tasks.json` para marcar projeto como configurado ‚Äî a verifica√ß√£o deve ser leitura/valida√ß√£o apenas.\n- ‚ö†Ô∏è Preserve performance: a checagem deve ser feita sob demanda (ao mudar path) e n√£o em loop de alto custo.\n- ‚ö†Ô∏è N√£o adicionar depend√™ncias; utilize as APIs e utilit√°rios j√° presentes.\n",
      "milestone": "m2",
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:45:04-03:00"
        },
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T23:48:17-03:00"
        }
      ],
      "todos": [
        {
          "id": "td54368122",
          "texto": "Reproduzir localmente: abrir projeto com setup j√° feito e confirmar que o bot√£o Setup aparece; anotar passos e console logs.",
          "concluido": false
        },
        {
          "id": "td54365299",
          "texto": "Adicionar fun√ß√£o isProjectSetup(path: string): Promise<boolean> em client/src/lib/api.ts que consulta GET /api/board?path=... e valida presen√ßa de milestones + colunas.",
          "concluido": false
        },
        {
          "id": "td54369331",
          "texto": "Modificar client/src/components/Header.tsx para usar isProjectSetup e esconder o bot√£o Setup quando true; atualizar estado ao alterar o input de path.",
          "concluido": false
        },
        {
          "id": "td54360417",
          "texto": "Garantir comportamento reativo: se BoardContext gerencia boardData, sincronizar isProjectSetup com BoardContext ou derivados para evitar chamadas duplicadas.",
          "concluido": false
        },
        {
          "id": "td54365426",
          "texto": "Adicionar tratamento de erros e toasts (sonner) em caso de falha na checagem; logar detalhe para debugging (console.error).",
          "concluido": false
        },
        {
          "id": "td54364724",
          "texto": "Testar manualmente: caminho v√°lido com setup (kanban-live/tasks.json com milestones) ‚Üí bot√£o oculto; caminho inv√°lido/novo ‚Üí bot√£o vis√≠vel.",
          "concluido": false
        },
        {
          "id": "td54369571",
          "texto": "Atualizar coment√°rios/descri√ß√£o da task (kanban-live/tasks.json) com o que foi feito e arquivos modificados ao finalizar.",
          "concluido": false
        }
      ]
    },
    {
      "id": "t0066",
      "descricao": "Corrigir corrup√ß√£o de task ao arrastar (DnD @hello-pangea/dnd + persist√™ncia Express/tasks.json)",
      "milestone": "m3875",
      "dataCriacao": "2025-12-04T23:46:30-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T23:46:30-03:00"
        }
      ],
      "detalhes": "O que precisa ser feito:\n\n- Reproduzir e registrar (console, network) o fluxo de drag-and-drop que corrompe a task: mover entre colunas e reordenar dentro da mesma coluna.\n- Corrigir a l√≥gica de onDragEnd/handleDragEnd no frontend para garantir updates imut√°veis do estado, manuten√ß√£o do schema do tasks.json (timeline, dataInicio, dataFinalizacao) e chamada correta √† API de persist√™ncia.\n- Garantir que a atualiza√ß√£o seja persistida de forma at√¥mica no backend (server.js) e que o cliente trate erros (rollback/notification) sem deixar o UI inconsistente.\n- Verificar concorr√™ncia/escritas paralelas e aplicar lock simples ou await para evitar race conditions ao salvar tasks.json.\n\nArquivos a modificar (prov√°veis):\n\n- client/src/components/KanbanBoard.tsx  -- revisar handleDragEnd / DragDropContext\n- client/src/components/KanbanColumn.tsx -- revisar reorder helpers e keys\n- client/src/components/TaskCard.tsx     -- checar efeitos colaterais de render/re-render\n- client/src/contexts/BoardContext.tsx  -- garantir atualiza√ß√£o imut√°vel e fun√ß√µes updateTasks/saveBoard\n- client/src/lib/api.ts                  -- validar fun√ß√£o que chama POST /api/board/tasks (payload completo)\n- client/src/types.ts                    -- (se necess√°rio) validar tipos Task/TasksData\n- backend/server.js                      -- validar escrita at√¥mica, valida√ß√£o JSON e resposta adequada\n- kanban-live/tasks.json                 -- usado apenas para testes/manuais (n√£o commitar mudan√ßas que quebrem o schema)\n\nObserva√ß√µes / requisitos t√©cnicos:\n\n- Ao modificar tasks.json siga o padr√£o do projeto: usar Read antes de Edit, preservar fields: milestones, backlog, todo, doing, done.\n- Ao mover task:\n  - adicionar evento na timeline com timestamp no formato ISO com timezone S√£o Paulo (-03:00) (use util existente para timezone ou manter padr√£o do projeto);\n  - setar dataInicio quando entrar em \"doing\" pela PRIMEIRA vez;\n  - setar dataFinalizacao quando entrar em \"done\" pela PRIMEIRA vez;\n  - nunca alterar IDs existentes.\n- Frontend: aplique updates imut√°veis (ex: structuredClone / map/filter) e atualize o contexto via BoardContext.updateTasks; fa√ßa chamada API com o board completo (n√£o enviar only-diff) e espere resposta antes de confirmar persist√™ncia; aplicar otimistic UI com rollback em erro.\n- Backend: salvar o arquivo de forma at√¥mica (escrever em temp + rename) e retornar status claro; validar JSON e retornar erro detalhado em caso de falha.\n- Adicionar toasts (sonner) para sucesso/erro de salvamento e logs de console para debugging.\n\n‚ö†Ô∏è Warnings:\n- ‚ö†Ô∏è N√£o modifique manualmente o formato de tasks.json (campos obrigat√≥rios/milestones).\n- ‚ö†Ô∏è N√£o alterar IDs existentes nem gerar IDs fora do padr√£o (t + 4 d√≠gitos / td + 4 d√≠gitos / m + 4 d√≠gitos).\n- ‚ö†Ô∏è Evite usar componentes shadcn/ui manualmente sem rodar o CLI quando for adicionar UI; neste bug fix n√£o √© necess√°rio.\n- ‚ö†Ô∏è Teste com polling do frontend (2s) e fa√ßa reload para validar persist√™ncia real no arquivo.\n\nCrit√©rios de aceite:\n\n1. Reproduz√≠vel: steps para reproduzir documentados no ticket e logs anexados (console + network payload).\n2. UI consistente: ap√≥s mover, card aparece na coluna correta sem duplica√ß√£o nem corrup√ß√£o de campos.\n3. Persist√™ncia: tasks.json atualizado corretamente (timeline + poss√≠veis dataInicio/dataFinalizacao) e backend retorna sucesso.\n4. Sem regress√µes: drag-and-drop continua funcionando com edi√ß√£o inline e menu de to-dos ativados/desativados.\n\n",
      "todos": [
        {
          "id": "td87752841",
          "texto": "Reproduzir bug e coletar evid√™ncias: filmar/print do console, network (payload do PUT/POST), e o estado antes/depois no kanban-live/tasks.json",
          "concluido": false
        },
        {
          "id": "td87757128",
          "texto": "Revisar e corrigir handleDragEnd em client/src/components/KanbanBoard.tsx ‚Äî garantir updates imut√°veis, uso correto de source/destination e manuten√ß√£o do timeline/dataInicio/dataFinalizacao",
          "concluido": false
        },
        {
          "id": "td87755252",
          "texto": "Atualizar BoardContext (client/src/contexts/BoardContext.tsx) para aplicar mudan√ßas de forma at√¥mica, oferecer rollback em erro e expor m√©todo saveBoard que chama client/src/lib/api.ts",
          "concluido": false
        },
        {
          "id": "td87758904",
          "texto": "Corrigir cliente HTTP em client/src/lib/api.ts para enviar o payload completo do board, tratar erros do backend e retornar resposta padronizada",
          "concluido": false
        },
        {
          "id": "td87758428",
          "texto": "Melhorar backend/server.js: validar JSON recebido, salvar tasks.json de forma at√¥mica (temp file + rename) e prevenir escritas concorrentes (await/lock simples)",
          "concluido": false
        },
        {
          "id": "td87756936",
          "texto": "Adicionar notifica√ß√µes (sonner) para sucesso/erro de salvamento e adicionar logs de debug; testar manualmente cover cases (reordenar, mover entre colunas, mover de volta)",
          "concluido": false
        }
      ]
    },
    {
      "id": "t1398",
      "descricao": "As tasks, por conta do menu de lixinho e muita coisa, t√£o \"passando\" o tamanho\" da bar do kanban",
      "milestone": "m3875",
      "dataCriacao": "2025-12-04T23:47:01-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T23:47:01-03:00"
        }
      ]
    },
    {
      "id": "t6980",
      "descricao": "Ao criar uma task com um \"milestone\" selecionado, ele deveria ir automatico",
      "detalhes": "Hoje, preciso selecionar o milesonte se eu tiver com ele selecionado na barra lateral",
      "milestone": "m2",
      "dataCriacao": "2025-12-04T23:47:36-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T23:47:36-03:00"
        }
      ]
    },
    {
      "id": "t9087",
      "descricao": "Tool que navega nas pastas (com node)",
      "detalhes": "algo similar ao que o claude code.. pq imagina que um agente que ok, tem contexto do nosso projeto, mas ele poderia navegar nas nossas pastas pra realmente entender e, assim, planejar a parada, sabe?",
      "dataCriacao": "2025-12-04T23:55:39-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T23:55:39-03:00"
        }
      ],
      "milestone": "m3"
    },
    {
      "id": "t9225",
      "descricao": "Mover bot√£o 'Criar com IA' para ficar ao lado do bot√£o 'Criar' no Header, reaproveitando o modal de cria√ß√£o pr√©-preenchido pela IA.",
      "detalhes": "Escopo:\n- Frontend (React + TypeScript). N√£o mexer no backend/endpoints.\n\nComportamento esperado:\n- N√£o criar um novo bot√£o: mover a inst√¢ncia existente do bot√£o \"Criar com IA\" para ficar imediatamente ao lado do bot√£o de criar normal no Header (client/src/components/Header.tsx).\n- Preservar a l√≥gica atual: ao clicar, o bot√£o deve chamar a rotina que consome POST /api/agents/enhance-task (via client/src/lib/api.ts ou fun√ß√£o j√° existente) e abrir o modal de cria√ß√£o com os campos pr√©-preenchidos pela IA (descri√ß√£o, detalhes, milestone, to-dos quando aplic√°vel).\n- Usu√°rio pode editar o conte√∫do pr√©-preenchido antes de salvar; fluxo de cria√ß√£o permanece o mesmo.\n- Tratamento de loading/erro: manter toasts existentes (sonner) e fallback para abrir o modal vazio caso a gera√ß√£o falhe.\n- Acessibilidade: bot√£o deve ter aria-label apropriado, foco previs√≠vel ao abrir o modal e ser naveg√°vel por teclado.\n\nRequisitos t√©cnicos / Padr√µes:\n- Usar componentes shadcn/ui (Button, Dialog) e utilit√°rios do projeto (cn()).\n- Importar tipos TypeScript corretos quando necess√°rio (ex: import type { Task } from '@/types.js').\n- Manter caminhos de import exatamente como no projeto e seguir conven√ß√µes (sem criar componentes shadcn manualmente).\n- N√£o alterar endpoints nem adicionar novos; apenas consumir o endpoint j√° dispon√≠vel.\n\nArquivos principais a revisar/editar:\n- client/src/components/Header.tsx (mover bot√£o e ajustar layout/responsividade)\n- Arquivo atual onde o bot√£o IA est√° localizado (remover inst√¢ncia antiga)\n- client/src/lib/api.ts (verificar/reusar fun√ß√£o que chama /api/agents/enhance-task; se j√° existir, apenas importar)\n- Modal de cria√ß√£o (reutilizar o Dialog existente; garantir que aceita prefill/initialData ‚Äî adaptar se necess√°rio sem quebrar o fluxo atual)\n\nCrit√©rios de aceita√ß√£o:\n- O bot√£o \"Criar com IA\" aparece lado a lado com o bot√£o de criar no Header em desktop e mobile (layout responsivo aceit√°vel).\n- Ao clicar, o modal abre com conte√∫do sugerido pela IA; usu√°rio pode editar; salvar cria a task como antes.\n- Se a chamada √† IA falhar, mostrar toast de erro e abrir modal vazio como fallback.\n- N√£o h√° duplicidade do bot√£o em nenhuma tela; a inst√¢ncia antiga foi removida.\n- Testado em fluxos: sucesso IA ‚Üí editar ‚Üí salvar; falha IA ‚Üí fallback modal; acessibilidade teclado/foco.\n",
      "todos": [
        {
          "id": "td92252088",
          "texto": "Localizar o arquivo com a inst√¢ncia atual do bot√£o \"Criar com IA\" e revisar o handler/API j√° usado.",
          "concluido": false
        },
        {
          "id": "td92251894",
          "texto": "Abrir client/src/components/Header.tsx e posicionar o bot√£o existente ao lado do bot√£o de criar; ajustar markup/Tailwind para alinhamento e responsividade.",
          "concluido": false
        },
        {
          "id": "td92255857",
          "texto": "Importar/reutilizar a fun√ß√£o que chama POST /api/agents/enhance-task em client/src/lib/api.ts (se j√° existir) ou apontar para a rotina j√° usada pelo fluxo ‚ú®.",
          "concluido": false
        },
        {
          "id": "td92259634",
          "texto": "Garantir que o modal de cria√ß√£o (Dialog) aceita dados pr√©-preenchidos (initialData/prefill). Se necess√°rio, adaptar o modal para aceitar props de prefill sem alterar o comportamento de cria√ß√£o.",
          "concluido": false
        },
        {
          "id": "td92252765",
          "texto": "Remover a inst√¢ncia antiga do bot√£o no local original para evitar duplicidade.",
          "concluido": false
        },
        {
          "id": "td92259484",
          "texto": "Testar fluxos principais (gera√ß√£o IA bem-sucedida ‚Üí editar ‚Üí salvar; gera√ß√£o falha ‚Üí fallback modal vazio), responsividade e foco/acessibilidade.",
          "concluido": false
        },
        {
          "id": "td92258274",
          "texto": "Fazer commit em branch feature/mover-botao-criar-ia com mensagem descritiva em portugu√™s e abrir PR com screenshots (antes/depois) se poss√≠vel.",
          "concluido": false
        }
      ],
      "milestone": "m2",
      "dataCriacao": "2025-12-05T03:18:29.000-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-05T03:18:29.000-03:00"
        }
      ]
    },
    {
      "id": "t0008",
      "descricao": "Novo menu de \"gest√£o de agentes\"",
      "milestone": "m3",
      "dataCriacao": "2025-12-05T00:19:50-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-05T00:19:50-03:00"
        }
      ],
      "detalhes": " Claro! Vou te explicar toda a arquitetura que constru√≠mos:\n\n  üìê Arquitetura Geral\n\n  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n  ‚îÇ                        FRONTEND (React)                      ‚îÇ\n  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n  ‚îÇ  ‚Ä¢ TaskCard (bot√µes üöÄ e ü™Ñ)                                ‚îÇ\n  ‚îÇ  ‚Ä¢ AITaskCreatorDialog (chat interface)                     ‚îÇ\n  ‚îÇ  ‚Ä¢ App.tsx (bot√£o \"Criar com IA\")                           ‚îÇ\n  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                     ‚îÇ HTTP requests\n  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n  ‚îÇ                    BACKEND (Express)                         ‚îÇ\n  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n  ‚îÇ  4 Endpoints:                                                ‚îÇ\n  ‚îÇ  ‚Ä¢ POST /agents/generate-prompt                             ‚îÇ\n  ‚îÇ  ‚Ä¢ POST /agents/enrich-task                                 ‚îÇ\n  ‚îÇ  ‚Ä¢ POST /agents/create-task/chat                            ‚îÇ\n  ‚îÇ  ‚Ä¢ POST /agents/create-task/finalize                        ‚îÇ\n  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                     ‚îÇ chama agentes\n  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n  ‚îÇ                    MASTRA (AI Layer)                         ‚îÇ\n  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n  ‚îÇ  3 Agentes + 4 Tools compartilhadas                         ‚îÇ\n  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n  ---\n  ü§ñ Os 3 Agentes\n\n  1. Prompt Generator Agent (mastra/agents/prompt-generator-agent.js)\n\n  O que faz: Gera um prompt markdown completo para voc√™ copiar e colar em outra LLM para continuar trabalhando na task.\n\n  Quando usar: Quando voc√™ quer delegar uma task para outro agente/pessoa mas precisa dar todo o contexto.\n\n  Bot√£o: üöÄ (azul) no TaskCard\n\n  Fluxo:\n  Usu√°rio clica üöÄ\n    ‚Üí Frontend chama /agents/generate-prompt\n      ‚Üí Backend chama tools:\n        - readProjectFiles (contexto, status, guia)\n        - readTask (task atual + tasks relacionadas)\n        - readMilestones (milestones dispon√≠veis)\n        - listProjectStructure (estrutura de pastas)\n      ‚Üí Monta prompt gigante com tudo\n      ‚Üí Agente gera prompt markdown estruturado\n    ‚Üí Copia para clipboard\n    ‚Üí Toast: \"üöÄ Prompt copiado!\"\n\n  Exemplo de output:\n  # Task: Implementar bot√£o de export CSV\n\n  ## Contexto do Projeto\n  [projeto-context.md completo aqui]\n\n  ## Status Atual\n  [status.md completo aqui]\n\n  ## Task Atual\n  - ID: t1234\n  - Descri√ß√£o: Adicionar bot√£o para exportar...\n  - Milestone: mvp\n  - To-dos:\n    1. Criar componente ExportButton\n    2. Implementar l√≥gica de convers√£o\n\n  ## Pr√≥ximos Passos\n  ...\n\n  ---\n  2. Task Enricher Agent (mastra/agents/task-enricher-agent.js)\n\n  O que faz: Pega uma task existente e melhora ela com base no contexto do projeto (descri√ß√£o mais clara, detalhes\n  t√©cnicos, to-dos estruturados, milestone sugerido).\n\n  Quando usar: Quando voc√™ criou uma task gen√©rica/simples e quer que o agente deixe ela mais completa e t√©cnica.\n\n  Bot√£o: ü™Ñ (roxo) no TaskCard\n\n  Fluxo:\n  Usu√°rio clica ü™Ñ\n    ‚Üí Frontend chama /agents/enrich-task\n      ‚Üí Backend chama tools:\n        - readProjectFiles (contexto + guia de como escrever tasks)\n        - readTask (task atual + tasks do mesmo milestone para aprender o padr√£o)\n        - readMilestones (milestones dispon√≠veis)\n      ‚Üí Agente analisa e reestrutura\n      ‚Üí Retorna JSON estruturado:\n        {\n          descricao: \"Descri√ß√£o melhorada\",\n          detalhes: \"## Requisitos\\n...\",\n          todos: [{texto: \"...\"}, ...],\n          milestone: \"m1234\"\n        }\n    ‚Üí Frontend atualiza a task com os dados melhorados\n    ‚Üí Toast: \"‚ú® Task enriquecida!\"\n\n  Antes vs Depois:\n  ANTES:\n  - Descri√ß√£o: \"adicionar export\"\n  - Detalhes: -\n  - To-dos: -\n\n  DEPOIS:\n  - Descri√ß√£o: \"Implementar exporta√ß√£o de relat√≥rios em CSV com filtros personalizados\"\n  - Detalhes: \"## Requisitos\\n- Bot√£o no header...\\n## Implementa√ß√£o\\n...\"\n  - To-dos:\n    1. Criar componente ExportButton com √≠cone download\n    2. Implementar hook useExportCSV para convers√£o de dados\n    3. Adicionar loading state durante exporta√ß√£o\n    4. Testar com datasets grandes (>1000 linhas)\n  - Milestone: mvp\n\n  ---\n  3. Task Creator Agent (mastra/agents/task-creator-agent.js)\n\n  O que faz: Chat conversacional que te ajuda a criar uma task do zero fazendo perguntas estrat√©gicas (2-4 perguntas no\n   m√°ximo).\n\n  Quando usar: Quando voc√™ quer criar uma task nova mas n√£o sabe exatamente como estruturar.\n\n  Bot√£o: ‚ú® \"Criar com IA\" (roxo) no header do App\n\n  Fluxo:\n  Usu√°rio clica \"Criar com IA\"\n    ‚Üí Abre AITaskCreatorDialog (chat interface)\n    ‚Üí Usu√°rio digita: \"quero adicionar modo escuro\"\n\n    ‚Üí Frontend chama /agents/create-task/chat\n      ‚Üí Backend (primeira mensagem):\n        - readProjectFiles (contexto)\n        - readMilestones (milestones dispon√≠veis)\n        - Adiciona context como system message\n        - Adiciona mensagem do usu√°rio\n        - Agente responde: \"Legal! Isso √© pro frontend (React), backend, ou ambos?\"\n      ‚Üí Retorna: { message: \"...\", conversationHistory: [...] }\n\n    ‚Üí Usu√°rio: \"frontend, React\"\n    ‚Üí Frontend chama /agents/create-task/chat novamente\n      ‚Üí Backend envia hist√≥rico completo (system + user + assistant + user)\n      ‚Üí Agente: \"√ìtimo! Quer usar Context API ou alguma lib tipo zustand?\"\n\n    ‚Üí Usu√°rio: \"context api\"\n    ‚Üí Agente: \"Perfeito! Em qual milestone? [lista os dispon√≠veis]\"\n\n    ‚Üí Usu√°rio: \"mvp\"\n    ‚Üí Agente: \"Show! Vou criar a task...\"\n\n    ‚Üí Usu√°rio clica \"Criar Task\"\n    ‚Üí Frontend chama /agents/create-task/finalize\n      ‚Üí Backend:\n        - Pega conversationHistory completo\n        - Adiciona mensagem final: \"crie a task estruturada\"\n        - Usa structuredOutput (JSON schema)\n        - Retorna: { task: {...} }\n\n    ‚Üí Preview da task aparece\n    ‚Üí Usu√°rio clica \"Confirmar e Adicionar\"\n    ‚Üí Task vai pro backlog\n\n  Caracter√≠sticas importantes:\n  - Stateless: Zero banco de dados! O hist√≥rico fica no estado do React\n  - Eficiente: M√°ximo 4 perguntas (instru√ß√µes do agente)\n  - Contextual: Primeira mensagem j√° vem com projeto-context.md e milestones\n  - Conversa√ß√£o descart√°vel: Quando fecha o dialog, hist√≥rico √© limpo\n\n  ---\n  üõ†Ô∏è As 4 Tools Compartilhadas\n\n  Todas as tools s√£o usadas pelos agentes para buscar informa√ß√µes do projeto:\n\n  1. readProjectFiles (mastra/tools/read-project-files.js)\n\n  Input: { projectPath }Output: { projetoContext, status, llmGuide }O que faz: L√™ os 3 arquivos markdown do projeto:\n  - projeto-context.md - Contexto geral do projeto\n  - status.md - Status atual do desenvolvimento\n  - llm-guide.md - Guia de como escrever tasks\n\n  ---\n  2. readTask (mastra/tools/read-task.js)\n\n  Input: { projectPath, taskId }Output: { task, relatedTasks }O que faz:\n  - Busca a task espec√≠fica no tasks.json\n  - Busca outras tasks do mesmo milestone (para o agente aprender o padr√£o)\n\n  ---\n  3. readMilestones (mastra/tools/read-milestones.js)\n\n  Input: { projectPath }Output: { milestones: [{id, titulo, descricao, cor}, ...] }O que faz: Lista todos os milestones\n   dispon√≠veis no projeto\n\n  ---\n  4. listProjectStructure (mastra/tools/list-project-structure.js)\n\n  Input: { projectPath }Output: { structure: \"string com √°rvore de pastas\", mainFolders: {...} }O que faz:\n  - Lista recursivamente as pastas do projeto (max depth 3)\n  - Ignora node_modules, .git, dist, etc\n  - Detecta se tem frontend/, backend/, client/, server/\n\n  ---\n  üé® Interface (Frontend)\n\n  TaskCard.tsx - 2 novos bot√µes\n\n  // Bot√£o 1: Gerar Prompt (azul)\n  <Button onClick={handleGeneratePrompt}>\n    <Rocket className=\"h-4 w-4\" />\n  </Button>\n\n  // Bot√£o 2: Enriquecer Task (roxo)\n  <Button onClick={handleEnrichTask}>\n    <Wand2 className=\"h-4 w-4\" />\n  </Button>\n\n  AITaskCreatorDialog.tsx - Chat completo\n\n  - Estado: messages (UI), conversationHistory (backend)\n  - Input + bot√£o Send\n  - Lista de mensagens (user azul, assistant cinza)\n  - Bot√£o \"Criar Task\" (quando tem 3+ mensagens)\n  - Preview da task criada (card verde)\n  - Bot√£o \"Confirmar e Adicionar\"\n\n  App.tsx - Bot√£o header\n\n  // S√≥ aparece na view kanban\n  {activeView === 'kanban' && (\n    <Button onClick={() => setIsAIDialogOpen(true)}>\n      <Sparkles /> Criar com IA\n    </Button>\n  )}\n\n  ---\n  üìä Resumo Visual\n\n  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n  ‚îÇ                      3 AGENTES                               ‚îÇ\n  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n  ‚îÇ                                                              ‚îÇ\n  ‚îÇ  1. Prompt Generator (üöÄ)                                   ‚îÇ\n  ‚îÇ     ‚Ä¢ Tools: ALL 4                                          ‚îÇ\n  ‚îÇ     ‚Ä¢ Output: Markdown gigante                              ‚îÇ\n  ‚îÇ     ‚Ä¢ Uso: Copiar prompt pra outra LLM                      ‚îÇ\n  ‚îÇ                                                              ‚îÇ\n  ‚îÇ  2. Task Enricher (ü™Ñ)                                      ‚îÇ\n  ‚îÇ     ‚Ä¢ Tools: readProjectFiles, readTask, readMilestones    ‚îÇ\n  ‚îÇ     ‚Ä¢ Output: JSON estruturado                              ‚îÇ\n  ‚îÇ     ‚Ä¢ Uso: Melhorar task existente                          ‚îÇ\n  ‚îÇ                                                              ‚îÇ\n  ‚îÇ  3. Task Creator (‚ú®)                                       ‚îÇ\n  ‚îÇ     ‚Ä¢ Tools: readProjectFiles, readMilestones (1¬™ msg)     ‚îÇ\n  ‚îÇ     ‚Ä¢ Output: Conversa ‚Üí JSON estruturado                   ‚îÇ\n  ‚îÇ     ‚Ä¢ Uso: Criar task do zero via chat                      ‚îÇ\n  ‚îÇ                                                              ‚îÇ\n  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n            ‚ñ≤                    ‚ñ≤                    ‚ñ≤\n            ‚îÇ                    ‚îÇ                    ‚îÇ\n       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n       ‚îÇ  Tool1  ‚îÇ         ‚îÇ   Tool2   ‚îÇ       ‚îÇ   Tool3   ‚îÇ\n       ‚îÇ Project ‚îÇ         ‚îÇ   Task    ‚îÇ       ‚îÇ Milestones‚îÇ\n       ‚îÇ  Files  ‚îÇ         ‚îÇ           ‚îÇ       ‚îÇ           ‚îÇ\n       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                                 ‚îÇ\n                           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n                           ‚îÇ   Tool4   ‚îÇ\n                           ‚îÇ Structure ‚îÇ\n                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n  ---\n  üéØ Decis√µes de Design\n\n  1. Zero Banco de Dados: Hist√≥rico de chat fica no frontend (React state), n√£o usa LibSQL\n  2. Tools Compartilhadas: Todos os agentes usam as mesmas tools para evitar duplica√ß√£o\n  3. Structured Output: Task Enricher e Task Creator usam JSON Schema para garantir formato correto\n  4. Logs Detalhados: Todos os endpoints logam cada etapa (üìñ üìã ü§ñ ‚úÖ)\n  5. Conversas Descart√°veis: Chat do Task Creator n√£o persiste (fecha dialog = limpa tudo)\n  6. Contextual First Message: Task Creator j√° recebe projeto-context.md na primeira mensagem"
    }
  ],
  "todo": [
    {
      "id": "t1004",
      "descricao": "ter um agente que √© capaz de, baseado na task atual, criar um prompt pro agente ir fazendo - tipo, voc√™ clica na task, ele vai ler o titulo e tudo mais, vai ler o conteudo, e, baseado nisso, nos objetivos status e mais, ele vai criar um prompt pra voc√™ \"continuar\" essa task",
      "milestone": "m3",
      "detalhes": "- Esse agente precisa ter o contexto do projeto pra fazer isso\n- Ele pode ir perguntando mais, com base no titulo e detalhes pra garantir que realmente entendeu e etc",
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:43:56-03:00"
        }
      ]
    },
    {
      "id": "t1009",
      "descricao": "precisamos ter uma estrutura de agentes, usando um pouco da t1005, onde temos um agente olha do pra tudo pra atualizar as coisas, um (pra esse projeto em especial), precisa ter um agente que vai olhar pra ca e manter esse guia llm atualizado",
      "detalhes": "",
      "milestone": "m3",
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:44:41-03:00"
        },
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T23:44:45-03:00"
        },
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:47:56-03:00"
        }
      ]
    },
    {
      "id": "t1005",
      "descricao": "o \"objetivos e status\" precisa ser o cora√ß√£o do projeto, e, sempre que tiver uma altera√ß√£o, ou uma task nova, ele precisa ser atualizado, idealmente, temos um agente olhando para as altera√ß√µes futuras pos o dia daquele documento, que pega o que foi alterado, e atualiza o \"obejtivo e status\" ou algo similar, em uma linguagem que uma LLM entenda - pensa em como fazer isso",
      "milestone": "m3",
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:47:54-03:00"
        }
      ]
    },
    {
      "id": "t9113",
      "descricao": "Ter um bot√£o de \"plan\" em cada task",
      "milestone": "m3",
      "dataCriacao": "2025-12-04T01:32:39-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T01:32:39-03:00"
        },
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:45:11-03:00"
        }
      ],
      "detalhes": "A ideia √© que a gente tenha um bot√£o de plan, que ela vai olhar pro conte√∫do da task, entender nosso projeto (pode ser por meio do nosso doc, ou entender com mastra como podemos \"navegar\" no nosso codigo, n sei, pra ela planejar a task, sabe?",
      "todos": [
        {
          "id": "td2186",
          "texto": "Usar MCP Mastra",
          "concluido": false
        }
      ]
    },
    {
      "id": "t4924",
      "descricao": "Entender como Integrar Notion ao Kanban",
      "detalhes": "A ideia √© que possamos integrar o notion ao kanban, onde ele fica syncado com o seu notion, pra voc√™ poder ver as tasks la e etc..",
      "milestone": "m5596",
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:45:07-03:00"
        }
      ]
    },
    {
      "id": "t1010",
      "descricao": "ter op√ß√£o de, ao criar uma task nova, pedir pro agente deixar ela mais \"estruturada\", onde ele pega mais contexto sobre o projeto e tals, ele meio que \"LLMiza\" o textinho da task, pra ficar melhor, sabe?",
      "milestone": "m3",
      "detalhes": "- Esse agente precisa ter o contexto do projeto pra fazer isso\n- Ele precisa ter todo contexto de como funciona o nosso tasks.json e tudo mais do projeto pra conseguir usar os to-dos, detalhes, milestones, etc",
      "todos": [
        {
          "id": "td0491",
          "texto": "Entender como podemos usar o workflow da mastra pra isso (ver se faz sentido)",
          "concluido": false
        },
        {
          "id": "td9398",
          "texto": "Garantir que estamos com o MCP da Mastra nessa task pra ver a documenta√ß√£o pra cria um agente que fa√ßa sentido pra task",
          "concluido": false
        }
      ],
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:44:50-03:00"
        }
      ]
    },
    {
      "id": "t4764",
      "descricao": "Modularizar Backend!",
      "milestone": "m1",
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:45:03-03:00"
        }
      ]
    },
    {
      "id": "t4056",
      "descricao": "Garantir atualiza√ß√£o em tempo real das tasks no front-end: quando um agente edita/atualiza uma task, as mudan√ßas devem aparecer imediatamente",
      "milestone": "m1",
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:45:01-03:00"
        }
      ]
    },
    {
      "id": "t7391",
      "descricao": "ao copiar um projeto (o path), idealmente, a gente copia junto, a explica√ß√£o do projeto, que vai ta la no objetivo e status, algo assim",
      "milestone": "m2",
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:44:59-03:00"
        }
      ]
    },
    {
      "id": "t6555",
      "descricao": "Implementar rastreabilidade entre commits Git e tarefas: vincular automaticamente/manualmente ID da task nas mensagens de commit (via hooks/webhooks), exibir hist√≥rico de commits na interface da task e suportar links bidirecionais.",
      "detalhes": "Regra: Todo commit deve come√ßar com o ID: git commit -m \"[t1001] Adiciona modal de detalhes\".\n\nFeature no Live Kanban: No modal de detalhes da Task (que voc√™ j√° implementou), adicione um campo ou uma lista autom√°tica de \"Commits Vinculados\" (pode ser manual no come√ßo ou lendo o log do git local via Node).\n\nPor que ajuda: Quando voc√™ se perguntar \"O que eu fiz nessa task?\", o c√≥digo estar√° linkado diretamente a ela.\n\nObjetivo: Saber qual c√≥digo resolveu a Task 1001.\n\nComo: Voc√™ coloca [t1001] na mensagem do commit.\n\nResultado: Se der bug na task 1001, voc√™ sabe exatamente quais arquivos olhar. Isso n√£o atualiza o contexto do projeto, s√≥ organiza o hist√≥rico.",
      "milestone": "m1",
      "timeline": [
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T01:04:17-03:00"
        },
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T01:04:28-03:00"
        },
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T23:17:33-03:00"
        }
      ],
      "dataInicio": "2025-12-04T01:04:17-03:00"
    },
    {
      "id": "t1008",
      "descricao": "ter um \"LTS\" de boas praticas, pro agente sempre seguir e ver se esta seguindo, tipo, quando for react, usar a estrutura tal, pattern tal, etc.. se for usar postgres, mesma coisa, etc.. podemos ter uma aba com \"patterns\", onde a gente puxa automaticamente, baseado na tecnolgia, patterns e etc pro agente seguir, pra ser a \"regra\" do proejto - node, ddd, etc, sabe...",
      "milestone": "m4",
      "timeline": [
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:44:25-03:00"
        }
      ]
    }
  ],
  "doing": [
    {
      "id": "t1044",
      "descricao": "Op√ß√£o de criar task \"com ajuda da IA\"",
      "detalhes": "A ideia √© que voc√™ possa falar o que quer, ele vai ver seu projeto e vai te sugerir uma task ja com os todos e passos",
      "milestone": "m3",
      "dataCriacao": "2025-12-04T23:13:41-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T23:13:41-03:00"
        },
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T23:45:26-03:00"
        },
        {
          "coluna": "doing",
          "timestamp": "2025-12-05T00:21:03-03:00"
        }
      ],
      "dataInicio": "2025-12-05T00:21:03-03:00"
    },
    {
      "id": "t3704",
      "descricao": "Ter uma vis√£o de \"git\" aqui no projeto",
      "detalhes": "Poder ver quais arquivos est√£o sendo rastreados etc.. √â bom pra saber se esta trabalhando \"free\" naquela task especifica",
      "milestone": "m2972",
      "timeline": [
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T23:45:08-03:00"
        }
      ],
      "dataInicio": "2025-12-04T23:45:08-03:00"
    }
  ],
  "done": [
    {
      "id": "t8029",
      "descricao": "Ter op√ß√£o de excluir uma task",
      "milestone": "m6021",
      "dataCriacao": "2025-12-04T01:19:18-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T01:19:18-03:00"
        },
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T22:28:50-03:00"
        },
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T23:30:35-03:00"
        },
        {
          "coluna": "done",
          "timestamp": "2025-12-04T23:36:15-03:00"
        }
      ],
      "dataInicio": "2025-12-04T23:30:35-03:00",
      "dataFinalizacao": "2025-12-04T23:36:15-03:00"
    },
    {
      "id": "t8467",
      "descricao": "Ao copiar o path de uma task, incluir \"sobre o projeto\"",
      "milestone": "m6021",
      "detalhes": "Pode ser legal tamb√©m tem algumas instru√ß√µes, tipo:\n\n- Marcar a task como \"done\", \"criar mensagem de commit\", etc...\n- Atualizar \"o que for feito\", ao finalizar a task",
      "timeline": [
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T23:20:24-03:00"
        },
        {
          "coluna": "done",
          "timestamp": "2025-12-04T23:29:48-03:00"
        }
      ],
      "dataInicio": "2025-12-04T23:20:24-03:00",
      "dataFinalizacao": "2025-12-04T23:29:48-03:00"
    },
    {
      "id": "t3652",
      "descricao": "Ter uma \"timeline\" de tasks com os to-dos, backlogs e etc com as datinhas",
      "detalhes": "A ideia √© que a gente possa ver quantas tasks fizemos, as que est√†o a fezer, quando incluimos ela, etc.. n√£o sei bem como fazer e se √© uma boa ideia, pedir opinic√£o LLM\n\nA ideia principal aqui √© ter as task feitas em data X ou Y, ou em todo, etc..",
      "milestone": "m8738",
      "dataCriacao": "2025-12-04T01:27:13-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T01:27:13-03:00"
        },
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T01:28:17-03:00"
        },
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T23:20:29-03:00"
        },
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T23:20:36-03:00"
        },
        {
          "coluna": "done",
          "timestamp": "2025-12-04T23:26:18-03:00"
        }
      ],
      "dataInicio": "2025-12-04T23:20:29-03:00",
      "dataFinalizacao": "2025-12-04T23:26:18-03:00"
    },
    {
      "id": "t1042",
      "descricao": "Implementar uma barra lateral shadcn pra agregar as coisas",
      "milestone": "m2",
      "dataCriacao": "2025-12-04T22:31:11-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T22:31:11-03:00"
        },
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T22:33:52-03:00"
        },
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T22:34:33-03:00"
        },
        {
          "coluna": "done",
          "timestamp": "2025-12-04T23:17:17-03:00"
        }
      ],
      "dataInicio": "2025-12-04T22:34:33-03:00",
      "dataFinalizacao": "2025-12-04T23:17:17-03:00"
    },
    {
      "id": "t3674",
      "descricao": "Op√ß√£o de excluir uma milestone",
      "milestone": "m8738",
      "dataCriacao": "2025-12-04T01:27:33-03:00",
      "timeline": [
        {
          "coluna": "backlog",
          "timestamp": "2025-12-04T01:27:33-03:00"
        },
        {
          "coluna": "todo",
          "timestamp": "2025-12-04T01:27:35-03:00"
        },
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T22:33:36-03:00"
        },
        {
          "coluna": "done",
          "timestamp": "2025-12-04T22:34:26-03:00"
        }
      ],
      "dataInicio": "2025-12-04T22:33:36-03:00",
      "dataFinalizacao": "2025-12-04T22:34:26-03:00"
    },
    {
      "id": "t3300",
      "descricao": "Ter um campo com \"o que foi feito\" (diferente do detalhes)",
      "milestone": "m6021",
      "detalhes": "Simplificado para ter apenas 2 campos:\n- detalhes (orienta√ß√£o do que precisa fazer)\n- resultado (o que foi feito ao finalizar)",
      "resultado": "‚úÖ Campo 'resultado' implementado com sucesso\n‚úÖ UI com Collapsible (collapse) no modal de detalhes\n‚úÖ Aparece abaixo da se√ß√£o de to-dos\n‚úÖ Placeholder explicativo para guiar preenchimento\n‚úÖ Salvamento integrado com os outros campos\n\nArquivos modificados:\n- client/src/types.ts - adicionado campo resultado\n- client/src/components/TaskCard.tsx - UI com Collapsible\n- kanban-live/llm-guide.md - documenta√ß√£o atualizada\n- kanban-live/projeto-context.md - schema e exemplos atualizados\n\nComponentes instalados:\n- @radix-ui/react-collapsible (via shadcn CLI)",
      "timeline": [
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T01:16:51-03:00"
        },
        {
          "coluna": "done",
          "timestamp": "2025-12-04T01:25:36-03:00"
        }
      ],
      "dataInicio": "2025-12-04T01:16:51-03:00",
      "dataFinalizacao": "2025-12-04T01:25:36-03:00"
    },
    {
      "id": "t1350",
      "descricao": "Ter um menu de busca",
      "milestone": "m1",
      "detalhes": "Simplesmente uma lupinha onde a gente busca algumas tasks e filtra elas no kanban, coisa fina! pode ficar do lado do menu de filtro! ao clicar, abre um menuzinho de busca, minimalista, ao digitar, filtra \"ao vivo\"",
      "timeline": [
        {
          "coluna": "doing",
          "timestamp": "2025-12-04T01:08:28-03:00"
        },
        {
          "coluna": "done",
          "timestamp": "2025-12-04T01:14:27-03:00"
        }
      ],
      "dataInicio": "2025-12-04T01:08:28-03:00",
      "dataFinalizacao": "2025-12-04T01:14:27-03:00"
    },
    {
      "id": "t6200",
      "descricao": "Incluir data nas tasks (data de come√ßo > ter os updates > data de finalizacao)",
      "detalhes": "- pra isso, vamos precisar atualizar o json de tasks e o llm-guide, pra deixar claro pro agente os pontos e tals!\n- Pode ser legal ter tipo uma \"mini timeline\" de quando come√ßou, etc, sabe? ... idealmente a gente tem essa timeline com \"momentos\" da task, pq nem sempre vamos conseguir finalizar ela de uma vez n√©?\n- Sempre que mover a taks pra algum dos kanbans, anotar de forma automatica (horario de SP!)",
      "milestone": "m6021",
      "timeline": [
        {
          "coluna": "done",
          "timestamp": "2025-12-04T01:05:51-03:00"
        }
      ],
      "dataFinalizacao": "2025-12-04T01:05:51-03:00"
    },
    {
      "id": "t1003",
      "descricao": "dentro das tasks, precisamos ter os \"to-do\", pra caso o agente n√£o finalize nessa sess√£o, ficou claro oq foi feito e o que precis fazer ainda pro proximo agente",
      "milestone": "m6021",
      "detalhes": "",
      "todos": [
        {
          "id": "td7968",
          "texto": "Quando tiver to-do, aparecer como \"ver detalhes\"",
          "concluido": true
        }
      ]
    },
    {
      "id": "t1112",
      "descricao": "Ao copiar Objetivo & Status e Guia LLM, incluir path do projeto",
      "detalhes": "## O que era pra ser feito:\n- Quando copiar conte√∫do das abas \"Objetivo & Status\" ou \"Guia LLM\", incluir o path do projeto no in√≠cio\n- Facilitar para LLMs identificarem de qual projeto √© o conte√∫do\n\n## O que foi feito:\n\n### 1. Atualizado CopyButton para aceitar projectPath ‚úÖ\n**Arquivo:** `client/src/components/CopyButton.tsx`\n\n**Mudan√ßas:**\n```typescript\ninterface CopyButtonProps {\n  content: string;\n  label?: string;\n  projectPath?: string; // NOVO - Path do projeto\n}\n\nconst handleCopy = async () => {\n  // Se tem projectPath, adiciona no in√≠cio\n  const finalContent = projectPath\n    ? `Projeto: ${projectPath}\\n\\n---\\n\\n${content}`\n    : content;\n\n  await navigator.clipboard.writeText(finalContent);\n  // ...\n};\n```\n\n### 2. Atualizado App.tsx para passar projectPath ‚úÖ\n**Arquivo:** `client/src/App.tsx`\n\n**Status.md:**\n```tsx\n<CopyButton content={boardData.status} projectPath={boardData.projectPath} />\n```\n\n**Projeto-Context.md:**\n```tsx\n<CopyButton content={boardData.projetoContext} projectPath={boardData.projectPath} />\n```\n\n**LLM-Guide.md:**\n```tsx\n<CopyButton content={boardData.llmGuide} projectPath={boardData.projectPath} />\n```\n\n## Formato do conte√∫do copiado:\n\n**Antes:**\n```\n# Status do Projeto\n...\n```\n\n**Depois:**\n```\nProjeto: /Users/nome/projeto/kanban-live\n\n---\n\n# Status do Projeto\n...\n```\n\n## Benef√≠cios:\n‚úÖ LLMs sabem imediatamente de qual projeto √© o conte√∫do\n‚úÖ Evita confus√£o quando trabalhando com m√∫ltiplos projetos\n‚úÖ Path completo com `/kanban-live/` sempre correto\n‚úÖ Separador visual (`---`) deixa claro onde come√ßa o conte√∫do\n‚úÖ Contagem de tokens inclui o path (mais preciso)\n\n## Arquivos modificados:\n- `client/src/components/CopyButton.tsx` - aceita `projectPath` opcional\n- `client/src/App.tsx` - passa `boardData.projectPath` para os 3 CopyButtons"
    },
    {
      "id": "t3434",
      "descricao": "Corrigir paths copiados para sempre incluir /kanban-live/ e nomes corretos nos recentes",
      "detalhes": "## O que era pra ser feito:\n- Quando copiar path de uma task, SEMPRE deve vir com `/kanban-live/` inclu√≠do\n- Sistema deve SEMPRE trabalhar dentro de `/kanban-live/`, sem fallback para raiz\n- Nomes dos projetos nos recentes devem mostrar o nome do projeto (n√£o \"kanban-live\")\n- Evitar duplica√ß√£o de `/kanban-live/kanban-live/`\n\n## O que foi feito:\n\n### 1. Backend - Path unificado sempre com /kanban-live/ ‚úÖ\n**Arquivo:** `backend/server.js` (GET /api/board)\n\n**Antes (PROBLEMA):**\n- Fazia fallback para raiz se n√£o encontrasse `/kanban-live/`\n- Permitia projetos funcionarem sem a estrutura correta\n- Causava confus√£o de paths (com e sem `/kanban-live/`)\n\n**Depois (CORRIGIDO):**\n```javascript\n// Se o path j√° termina com /kanban-live, usa direto. Sen√£o, adiciona /kanban-live\nlet basePath = projectPath;\nif (!projectPath.endsWith('kanban-live')) {\n  basePath = path.join(projectPath, 'kanban-live');\n}\n\n// Verifica se a pasta existe\ntry {\n  await fs.access(basePath);\n} catch {\n  // Se n√£o existe, retorna mensagem pedindo Setup\n  return res.json({\n    status: '# Status\\n\\n(Arquivo n√£o encontrado - clique em \"Setup Projeto\")',\n    tasks: { backlog: [], todo: [], doing: [], done: [] },\n    projectPath: basePath\n  });\n}\n```\n\n**Benef√≠cios:**\n- ‚úÖ SEMPRE retorna `projectPath` com `/kanban-live/` inclu√≠do\n- ‚úÖ N√£o duplica se j√° vier com `/kanban-live/`\n- ‚úÖ Obriga cria√ß√£o da estrutura correta (bot√£o Setup)\n- ‚úÖ Frontend sempre recebe path completo\n\n### 2. Frontend - Usa path retornado pelo backend ‚úÖ\n**Arquivo:** `client/src/contexts/BoardContext.tsx`\n\n**Antes (PROBLEMA):**\n```typescript\nconst data = await api.loadBoard(path);\nsetBoardData(data);\nlocalStorage.setItem('lastProjectPath', path); // Salvava path ORIGINAL ‚ùå\n```\n\n**Depois (CORRIGIDO):**\n```typescript\nconst data = await api.loadBoard(path);\nsetBoardData(data);\n// Salva o path REAL retornado pelo backend (com /kanban-live/)\nlocalStorage.setItem('lastProjectPath', data.projectPath);\nreturn data; // Retorna para o Header usar\n```\n\n**Arquivo:** `client/src/components/Header.tsx`\n```typescript\nconst data = await loadProject(finalPath);\n// Salva nos recentes usando o path REAL retornado\nawait api.addRecentProject(data.projectPath);\n```\n\n### 3. Backend - Nomes corretos nos recentes ‚úÖ\n**Arquivo:** `backend/server.js` (POST /api/utils/add-recent-project)\n\n**Antes (PROBLEMA):**\n```javascript\nname: projectName || path.basename(projectPath)\n// Se projectPath = /projeto/kanban-live ‚Üí name = \"kanban-live\" ‚ùå\n```\n\n**Depois (CORRIGIDO):**\n```javascript\nlet finalProjectName = projectName;\nif (!finalProjectName) {\n  if (projectPath.endsWith('kanban-live')) {\n    // Pega o nome da pasta pai\n    // Ex: /path/to/test-llm/kanban-live ‚Üí test-llm ‚úÖ\n    finalProjectName = path.basename(path.dirname(projectPath));\n  } else {\n    finalProjectName = path.basename(projectPath);\n  }\n}\n```\n\n### 4. Simplifica√ß√£o de endpoints ‚úÖ\n**Arquivos:** `backend/server.js`\n\n**Antes:** POST /api/board/tasks e POST /api/board/status faziam detec√ß√£o de `/kanban-live/`\n\n**Depois:** Simplificados porque `projectPath` J√Å VEM com `/kanban-live/` do frontend\n```javascript\n// POST /api/board/tasks\nconst tasksFile = path.join(projectPath, 'tasks.json');\nawait fs.writeFile(tasksFile, JSON.stringify(tasks, null, 2), 'utf8');\n\n// POST /api/board/status  \nconst statusFile = path.join(projectPath, 'status.md');\nawait fs.writeFile(statusFile, content, 'utf8');\n```\n\n## Arquivos modificados:\n- `backend/server.js`\n  - GET /api/board - detec√ß√£o inteligente com `.endsWith('kanban-live')`\n  - POST /api/board/tasks - simplificado (usa path direto)\n  - POST /api/board/status - simplificado (usa path direto)\n  - POST /api/utils/add-recent-project - extrai nome da pasta pai\n- `client/src/contexts/BoardContext.tsx`\n  - loadProject() agora retorna BoardData\n  - Salva path real no localStorage\n- `client/src/components/Header.tsx`\n  - Usa path retornado ao salvar nos recentes\n\n## Fluxo completo (ANTES vs DEPOIS):\n\n### ANTES (COM PROBLEMAS):\n1. Usu√°rio cola: `/Users/nome/test-llm`\n2. Backend detecta: `/Users/nome/test-llm/kanban-live/`\n3. ‚ùå Mas salvava nos recentes: `/Users/nome/test-llm`\n4. ‚ùå Nome aparecia: \"test-llm\"\n5. ‚ùå Ao copiar task: `/Users/nome/test-llm/tasks.json#t1234`\n\n### DEPOIS (FUNCIONANDO):\n1. Usu√°rio cola: `/Users/nome/test-llm` (com ou sem `/kanban-live/`)\n2. Backend detecta: `/Users/nome/test-llm/kanban-live/`\n3. ‚úÖ Retorna: `projectPath: \"/Users/nome/test-llm/kanban-live\"`\n4. ‚úÖ Salva nos recentes: `/Users/nome/test-llm/kanban-live`\n5. ‚úÖ Nome extra√≠do: \"test-llm\" (pasta pai)\n6. ‚úÖ Ao copiar task: `/Users/nome/test-llm/kanban-live/tasks.json#t1234`\n7. ‚úÖ Ao criar/editar: salva em `/Users/nome/test-llm/kanban-live/tasks.json`\n\n## Resultados:\n‚úÖ Paths sempre corretos e consistentes\n‚úÖ N√£o importa se cola com ou sem `/kanban-live/`\n‚úÖ Nomes dos projetos aparecem corretamente\n‚úÖ Sem duplica√ß√£o de `/kanban-live/kanban-live/`\n‚úÖ Sistema sempre trabalha dentro de `/kanban-live/`\n‚úÖ Projetos sem estrutura mostram bot√£o Setup\n‚úÖ Tudo funciona de forma transparente para o usu√°rio"
    },
    {
      "id": "t0374",
      "descricao": "Salvar √∫ltimos projetos acessados e renomear example-project para kanban-live",
      "detalhes": "## O que era pra ser feito:\n- Renomear pasta `example-project` para `kanban-live`\n- Criar arquivo `utils.json` para salvar √∫ltimos projetos\n- Evitar copiar/colar paths toda hora\n- Atualizar refer√™ncias no c√≥digo e documenta√ß√£o\n- Atualizar llm-guide.md\n\n## O que foi feito:\n\n### 1. Renomea√ß√£o da Pasta ‚úÖ\n- Renomeada pasta de `example-project` para `kanban-live`\n- Atualizado README.md com novo caminho\n- Atualizado projeto-context.md com nova estrutura\n\n### 2. Criado utils.json ‚úÖ\n**Arquivo:** `kanban-live/utils.json`\n**Estrutura:**\n```json\n{\n  \"recentProjects\": [\n    {\n      \"path\": \"/caminho/do/projeto\",\n      \"name\": \"nome-projeto\",\n      \"lastAccessed\": \"2025-11-13T00:00:00.000Z\"\n    }\n  ],\n  \"settings\": {\n    \"maxRecentProjects\": 5\n  }\n}\n```\n\n### 3. Backend - Novos Endpoints ‚úÖ\n**Arquivo:** `backend/server.js`\n\n**GET /api/utils/recent-projects**\n- Retorna lista de projetos recentes\n- Fallback para array vazio se arquivo n√£o existe\n\n**POST /api/utils/add-recent-project**\n- Adiciona projeto √† lista de recentes\n- Remove duplicatas (atualiza lastAccessed)\n- Limita a 5 projetos (configur√°vel)\n- Ordena por mais recente primeiro\n\n**DELETE /api/utils/remove-recent-project**\n- Remove projeto espec√≠fico da lista\n- Atualiza utils.json automaticamente\n\n### 4. Frontend - API e UI ‚úÖ\n**Arquivo:** `client/src/lib/api.ts`\n- Fun√ß√£o `getRecentProjects()` - busca lista\n- Fun√ß√£o `addRecentProject()` - adiciona √† lista\n- Fun√ß√£o `removeRecentProject()` - remove da lista\n\n**Arquivo:** `client/src/components/Header.tsx`\n- Dropdown \"Recentes\" com √≠cone de rel√≥gio\n- Lista mostra nome, path e data de acesso\n- Clique no projeto carrega automaticamente\n- **√çcone de lixeira** ao passar mouse (hover)\n- Remove projeto ao clicar na lixeira\n- Overlay para fechar dropdown ao clicar fora\n- Contador de projetos no bot√£o\n\n### 5. Documenta√ß√£o Atualizada ‚úÖ\n**README.md:**\n- Atualizado de `example-project` para `kanban-live`\n- Exemplos de paths corrigidos\n\n**projeto-context.md:**\n- Estrutura de pastas atualizada\n- Adicionado `utils.json` na estrutura\n\n**llm-guide.md:**\n- Adicionado `utils.json` na tabela de arquivos\n- Nota explicando que √© gerenciado automaticamente\n- Indica√ß√£o de n√£o editar manualmente\n\n## Arquivos criados:\n- `kanban-live/utils.json` - NOVO arquivo\n\n## Arquivos modificados:\n- `backend/server.js` - 3 novos endpoints\n- `client/src/lib/api.ts` - 3 novas fun√ß√µes\n- `client/src/components/Header.tsx` - dropdown de recentes + lixeira\n- `README.md` - refer√™ncias atualizadas\n- `kanban-live/projeto-context.md` - estrutura atualizada\n- `kanban-live/llm-guide.md` - documenta√ß√£o do utils.json\n\n## Funcionalidades:\n‚úÖ Salva √∫ltimos 5 projetos automaticamente\n‚úÖ Dropdown mostra projetos com nome, path e data\n‚úÖ Clique para carregar projeto rapidamente\n‚úÖ √çcone de lixeira para remover recentes\n‚úÖ Totalmente integrado com backend\n‚úÖ Pasta renomeada para `kanban-live`\n‚úÖ Documenta√ß√£o 100% atualizada"
    },
    {
      "id": "t3122",
      "descricao": "Exibir os detalhes das tasks em um modal/dialog responsivo em vez de no corpo da task para evitar conte√∫do extenso",
      "detalhes": "## O que era pra ser feito:\n- Remover exibi√ß√£o inline dos detalhes que ocupava muito espa√ßo no card\n- Usar o componente Dialog do shadcn/ui para exibir detalhes em modal\n- Manter funcionalidade de edi√ß√£o dos detalhes\n- Tornar a interface mais limpa e organizada\n\n## O que foi feito:\n‚úÖ Removida exibi√ß√£o inline de detalhes que ocupava espa√ßo no card\n‚úÖ Implementado Dialog (modal) do shadcn/ui para exibir detalhes\n‚úÖ Adicionado √≠cone FileText + link \"Ver detalhes\" quando task tem detalhes\n‚úÖ Mantido bot√£o \"+ Adicionar detalhes\" quando task n√£o tem detalhes\n‚úÖ Modal responsivo com max-width de 2xl e max-height de 80vh\n‚úÖ Textarea com min-height de 200px para edi√ß√£o confort√°vel\n‚úÖ Bot√µes \"Cancelar\" e \"Salvar\" no modal\n‚úÖ Toast de feedback ao salvar detalhes\n‚úÖ AutoFocus no textarea quando adicionando detalhes pela primeira vez\n‚úÖ T√≠tulo do modal mostra ID e descri√ß√£o da task\n\n## Arquivos modificados:\n- client/src/components/TaskCard.tsx:\n  - Importado Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription\n  - Importado √≠cone FileText do lucide-react\n  - Substitu√≠do estado `showDetails` por `isDialogOpen`\n  - Adicionada fun√ß√£o `handleSaveDetails()` para salvar e fechar modal\n  - Removida exibi√ß√£o inline dos detalhes (linhas 149-173 antigas)\n  - Adicionado link \"Ver detalhes\" com √≠cone quando task tem detalhes\n  - Implementado Dialog completo com header, textarea e bot√µes\n  - Modal com scroll autom√°tico para conte√∫dos extensos\n\n## Benef√≠cios:\n- Cards agora s√£o muito mais compactos\n- Detalhes extensos n√£o quebram o layout do Kanban\n- Melhor experi√™ncia de edi√ß√£o com modal focado\n- Interface mais limpa e profissional\n- Responsivo em diferentes tamanhos de tela"
    },
    {
      "id": "t4748",
      "descricao": "Integrar o Mastra AI Framework ao Live Kanban para orquestra√ß√£o de agentes ‚Äî implementar SDK/cliente, configurar autentica√ß√£o e endpoints",
      "detalhes": "## ‚úÖ O que foi implementado:\n\n### 1. Estrutura Criada\n```\nlive-kanban/\n‚îú‚îÄ‚îÄ mastra/\n‚îÇ   ‚îú‚îÄ‚îÄ agents/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ task-enhancer.js    # Agente para melhorar descri√ß√µes\n‚îÇ   ‚îú‚îÄ‚îÄ index.js                # Configura√ß√£o Mastra\n‚îÇ   ‚îú‚îÄ‚îÄ README.md               # Documenta√ß√£o\n‚îÇ   ‚îî‚îÄ‚îÄ MIGRATION.md            # Guia JS vs TS\n‚îú‚îÄ‚îÄ .env                        # Vari√°veis de ambiente\n‚îî‚îÄ‚îÄ .env.example                # Template de configura√ß√£o\n```\n\n### 2. Depend√™ncias Instaladas\n‚úÖ `@mastra/core@^0.24.0`\n‚úÖ `@ai-sdk/openai@^2.0.65`\n‚úÖ `zod@^3.25.76`\n‚úÖ `dotenv@^17.2.3`\n\n### 3. Configura√ß√£o de Ambiente\n**Arquivo `.env` criado com:**\n- `OPENAI_API_KEY` - Chave da OpenAI\n- `OPENAI_MODEL` - Modelo configur√°vel (padr√£o: gpt-4o-mini)\n\n**Modelos suportados:**\n- gpt-5-mini ($0.25 input / $2.00 output)\n- gpt-5 ($1.25 input / $10.00 output)\n- gpt-5-nano ($0.05 input / $0.40 output)\n- gpt-5-codex ($1.25 input / $10.00 output)\n- gpt-4o-mini, gpt-4o, gpt-4-turbo\n\n### 4. Agente Task Enhancer\n**Arquivo:** `mastra/agents/task-enhancer.js`\n**Fun√ß√£o:** Melhora descri√ß√µes de tasks tornando-as mais claras e objetivas\n**Input:** Descri√ß√£o da task (string)\n**Output:** Descri√ß√£o melhorada (string)\n**Caracter√≠sticas:**\n- Carrega vari√°veis de ambiente do .env raiz\n- Modelo configur√°vel via OPENAI_MODEL\n- Debug logging para API key\n- Instru√ß√µes em portugu√™s\n- Mant√©m tom profissional mas amig√°vel\n\n### 5. Integra√ß√£o Backend\n**Arquivo modificado:** `backend/server.js`\n**Novo endpoint:** `POST /api/agents/enhance-task`\n**Recebe:** `{ taskDescription: string }`\n**Retorna:** `{ success: true, descricao: string }`\n**Implementa√ß√£o:**\n- Import din√¢mico do Mastra (ES modules em projeto CommonJS)\n- Graceful degradation se Mastra n√£o carregar\n- Tratamento de erros com logs\n- Resposta simplificada (apenas descri√ß√£o melhorada)\n\n### 6. Integra√ß√£o Frontend\n**Arquivo modificado:** `client/src/lib/api.ts`\n**Nova fun√ß√£o:** `enhanceTask(taskDescription: string): Promise<string>`\n\n**Arquivo modificado:** `client/src/components/TaskCard.tsx`\n**UI adicionada:**\n- Bot√£o ‚ú® (Sparkles) em cada card\n- Loading state com spinner animado\n- Toast de sucesso/erro\n- Atualiza√ß√£o autom√°tica da descri√ß√£o no card\n- T√≠tulo de ajuda ao hover\n\n### 7. Arquitetura JavaScript ES Modules\n**Decis√£o:** Usar JavaScript ao inv√©s de TypeScript para Mastra\n**Vantagens:**\n- Mais simples (sem compila√ß√£o TS)\n- Menos configura√ß√£o\n- Mais r√°pido para prototipar\n- Node.js nativo\n- 100% compat√≠vel com API do Mastra\n\n**Configura√ß√£o especial:**\n- `\"type\": \"module\"` no package.json raiz\n- dotenv.config com path absoluto para .env na raiz\n- Import din√¢mico no backend CommonJS\n\n### 8. Corre√ß√µes Aplicadas\n‚úÖ **Schema validation error** - Removido structured output, usando response.text direto\n‚úÖ **dotenv path resolution** - Configurado path absoluto para .env\n‚úÖ **Model configuration** - Modelo configur√°vel via vari√°vel de ambiente\n‚úÖ **API key loading** - Debug logs para verificar carregamento\n\n## üéØ Como Usar\n\n1. **Configure o .env:**\n```bash\ncp .env.example .env\n# Edite .env com sua OPENAI_API_KEY\n```\n\n2. **Inicie o servidor:**\n```bash\nnpm start  # Backend + Frontend + Mastra\n```\n\n3. **No Kanban:**\n- Clique no √≠cone ‚ú® em qualquer card\n- Aguarde o processamento\n- A descri√ß√£o ser√° melhorada automaticamente\n\n## üìö Documenta√ß√£o Criada\n\n‚úÖ `mastra/README.md` - Guia completo de uso e adi√ß√£o de novos agentes\n‚úÖ `mastra/MIGRATION.md` - Compara√ß√£o JS vs TS e guia de migra√ß√£o\n‚úÖ `.env.example` - Template com todos os modelos dispon√≠veis\n\n## üîÆ Pr√≥ximos Passos (Roadmap)\n\n- [ ] Prompt Generator Agent\n- [ ] Doc Updater Agent\n- [ ] Code Reviewer Agent\n- [ ] Test Generator Agent\n- [ ] Commit Message Generator Agent"
    },
    {
      "id": "t8119",
      "descricao": "Em todas as paginas, tem um bot√£o de copiar e colocar a media de tokens que aquele texto que a pessoa ta copiando tem (ver como faz esse calculo de token)",
      "detalhes": "## O que era pra ser feito:\n- Adicionar bot√£o de copiar em todas as p√°ginas (Status, Contexto, Guia LLM)\n- Mostrar contagem aproximada de tokens do texto\n- Usar c√°lculo: 1 token ‚âà 4 caracteres\n\n## O que foi feito:\n‚úÖ Criado componente `CopyButton.tsx` com c√°lculo de tokens (1 token ‚âà 4 caracteres)\n‚úÖ Adicionado bot√£o na aba \"Objetivo & Status\" para Status.md (~tokens)\n‚úÖ Adicionado bot√£o na aba \"Objetivo & Status\" para Projeto-Context.md (~tokens)\n‚úÖ Adicionado bot√£o na aba \"Guia LLM\" (~tokens)\n‚úÖ Feedback visual com toast mostrando contagem de tokens ao copiar\n‚úÖ √çcone de Check quando copiado com sucesso\n‚úÖ Formata√ß√£o brasileira de n√∫meros (ex: 1.234 tokens)\n\n## Arquivos criados/modificados:\n- client/src/components/CopyButton.tsx - NOVO componente\n- client/src/App.tsx - adicionados 3 CopyButtons nas abas"
    },
    {
      "id": "t1001",
      "descricao": "em obj e status ter um documento vivo que explique toda a stack, como o projeto funciona e mais, para que a LLM possa consultar e entender o core da aplica√ß√£o",
      "detalhes": "## O que era pra ser feito:\n- Criar documento que explique stack completa\n- Incluir arquitetura do projeto\n- Detalhar tecnologias usadas\n- Explicar como o projeto funciona\n- Servir como refer√™ncia para LLMs\n\n## O que foi feito:\n‚úÖ Criado arquivo `projeto-context.md` com 18 se√ß√µes completas\n‚úÖ Documentada stack completa (React 19, Tailwind v4, shadcn/ui, etc.)\n‚úÖ Inclu√≠da estrutura de pastas e arquivos\n‚úÖ Adicionadas regras de neg√≥cio e padr√µes de c√≥digo\n‚úÖ Documentados pontos cr√≠ticos de aten√ß√£o\n‚úÖ Explicadas decis√µes arquiteturais\n‚úÖ Adicionados exemplos de c√≥digo\n‚úÖ Inclu√≠do roadmap e pr√≥ximos passos\n‚úÖ Atualizado `llm-guide.md` para referenciar o novo arquivo\n\n## Arquivos criados/modificados:\n- example-project/projeto-context.md - NOVO arquivo com contexto completo\n- example-project/llm-guide.md - adicionada se√ß√£o 0 referenciando projeto-context.md"
    },
    {
      "id": "t1007",
      "descricao": "usar shadcn - precisamos ter um backlog tb"
    },
    {
      "id": "t1006",
      "descricao": "os cards devem ser editaveis e, dentro deles, ter o texto de \"o que ta sendo feito e como\" - isso deve ser um padrao tb, no guia da LLM, pra gente seguir um padr√£o - cada task precisa ter um botaozinho de copiar, que copia o path pra ela tb!",
      "detalhes": "## O que era pra ser feito:\n- Cards edit√°veis com campo de detalhes\n- Campo para descrever \"o que est√° sendo feito e como\"\n- Bot√£o de copiar que copia o path completo da task\n- Estabelecer padr√£o para guia LLM\n\n## O que foi feito:\n‚úÖ Atualizado tipo Task para incluir campo opcional 'detalhes'\n‚úÖ Implementado UI expand√≠vel nos cards (bot√£o \"+ Adicionar detalhes\")\n‚úÖ Edi√ß√£o inline com textarea para detalhes\n‚úÖ Bot√£o üìã que copia path completo: /path/to/project/tasks.json#taskId\n‚úÖ Adicionado Sonner (toast) para feedback visual ao copiar\n‚úÖ Cursor pointer no bot√£o de copiar\n‚úÖ Desabilita drag quando est√° editando\n‚úÖ Double-click para editar descri√ß√£o e detalhes\n\n## Arquivos modificados:\n- client/src/types.ts - adicionado campo detalhes\n- client/src/components/TaskCard.tsx - UI expand√≠vel e bot√£o copiar\n- client/src/components/KanbanColumn.tsx - passa projectPath\n- client/src/components/KanbanBoard.tsx - handleUpdateTask gen√©rico\n- client/src/App.tsx - adicionado Toaster"
    },
    {
      "id": "t1002",
      "descricao": "ter um botao de \"setup no projeto\", onde a gente pega um projeto que n√£o usa e inclui esse setup de pastas e etc - idealmente, a gente tem um agente acoplado que le o projeto e faz o objetivo e status tb",
      "detalhes": "## O que era pra ser feito:\n- Bot√£o de \"Setup Projeto\" no Header\n- Detectar quando projeto n√£o tem estrutura kanban-live/\n- Criar estrutura completa automaticamente:\n  - tasks.json (4 colunas: backlog, todo, doing, done)\n  - status.md (template inicial)\n  - projeto-context.md (template inicial)\n  - utils.json (configura√ß√£o padr√£o)\n  - llm-guide.md (c√≥pia do template)\n- Sistema funcionar com path do projeto raiz (ex: /projeto) detectando automaticamente /projeto/kanban-live/\n\n## O que foi feito:\n\n### 1. Backend - Endpoint POST /api/setup-project ‚úÖ\n**Arquivo:** `backend/server.js`\n**Funcionalidade:**\n- Recebe projectPath do usu√°rio\n- Verifica se kanban-live/ j√° existe (retorna erro se sim)\n- Cria pasta kanban-live/ no projeto\n- Cria 5 arquivos com templates:\n  - `tasks.json` - estrutura vazia com 4 colunas\n  - `status.md` - template com data atual e se√ß√µes padr√£o\n  - `projeto-context.md` - template com se√ß√µes de stack e arquitetura\n  - `utils.json` - estrutura de projetos recentes vazia\n  - `llm-guide.md` - c√≥pia completa do template do live-kanban\n- Retorna sucesso com lista de arquivos criados\n\n### 2. Backend - Detec√ß√£o Autom√°tica de kanban-live/ ‚úÖ\n**Arquivos modificados:** `backend/server.js`\n**Endpoints atualizados:**\n- GET `/api/board` - detecta automaticamente se existe /projeto/kanban-live/\n- POST `/api/board/tasks` - salva no path correto (kanban-live/ ou raiz)\n- POST `/api/board/status` - salva no path correto (kanban-live/ ou raiz)\n\n**L√≥gica implementada:**\n```javascript\nlet basePath = projectPath;\nconst kanbanLivePath = path.join(projectPath, 'kanban-live');\n\ntry {\n  await fs.access(kanbanLivePath);\n  basePath = kanbanLivePath; // Usa kanban-live/ se existir\n} catch {\n  // Usa path direto (retrocompatibilidade)\n}\n```\n\n### 3. Frontend - API Client ‚úÖ\n**Arquivo:** `client/src/lib/api.ts`\n**Nova fun√ß√£o adicionada:**\n```typescript\nasync setupProject(projectPath: string): Promise<{ \n  success: boolean; \n  message: string; \n  files: string[] \n}>\n```\n\n### 4. Frontend - Bot√£o Setup no Header ‚úÖ\n**Arquivo:** `client/src/components/Header.tsx`\n**Funcionalidades:**\n- Importado √≠cone Settings do lucide-react\n- Importado toast do sonner para feedback\n- Detecta quando projeto n√£o tem estrutura: `needsSetup = boardData.status.includes('(Arquivo n√£o encontrado)')`\n- Bot√£o \"Setup Projeto\" aparece condicionalmente quando needsSetup === true\n- Estado `settingUp` para loading durante cria√ß√£o\n- Ao clicar:\n  1. Valida se projectPath est√° preenchido\n  2. Chama api.setupProject()\n  3. Mostra toast de sucesso com lista de arquivos criados\n  4. Aguarda 1 segundo\n  5. Carrega o projeto automaticamente\n- Bot√£o azul destacado (bg-blue-600) para chamar aten√ß√£o\n- Desabilitado durante cria√ß√£o (\"Criando...\")\n\n### 5. Retrocompatibilidade ‚úÖ\n**Sistema funciona em 2 cen√°rios:**\n\n**Cen√°rio 1: Projeto com kanban-live/**\n- Usu√°rio cola: `/Users/nome/projeto`\n- Sistema busca automaticamente em: `/Users/nome/projeto/kanban-live/`\n- Tudo funciona normalmente\n\n**Cen√°rio 2: Projeto legacy (sem kanban-live/)**\n- Usu√°rio cola: `/Users/nome/projeto-antigo`\n- Sistema busca em: `/Users/nome/projeto-antigo/` (raiz)\n- Mant√©m compatibilidade com projetos antigos\n\n## Arquivos criados/modificados:\n\n**Backend:**\n- `backend/server.js` - novo endpoint setup-project + detec√ß√£o autom√°tica em 3 endpoints\n\n**Frontend:**\n- `client/src/lib/api.ts` - fun√ß√£o setupProject()\n- `client/src/components/Header.tsx` - bot√£o Setup + l√≥gica de detec√ß√£o\n\n## Benef√≠cios:\n\n‚úÖ Usu√°rio n√£o precisa criar estrutura manualmente\n‚úÖ Um clique cria tudo automaticamente\n‚úÖ Path unificado: sempre usa /projeto/ (detecta kanban-live/ automaticamente)\n‚úÖ Feedback visual com toast\n‚úÖ Carregamento autom√°tico ap√≥s cria√ß√£o\n‚úÖ Retrocompat√≠vel com projetos antigos\n‚úÖ Templates prontos e bem estruturados\n‚úÖ llm-guide.md copiado do template oficial\n\n## Fluxo de uso:\n\n1. Usu√°rio cola path do projeto: `/Users/nome/novo-projeto`\n2. Clica em \"Carregar Projeto\"\n3. Sistema detecta que n√£o tem estrutura\n4. Bot√£o \"Setup Projeto\" aparece\n5. Usu√°rio clica no bot√£o\n6. Sistema cria pasta `kanban-live/` com todos os arquivos\n7. Toast mostra \"‚úÖ Estrutura kanban-live criada com sucesso\"\n8. Toast mostra \"Arquivos criados: tasks.json, status.md, ...\"\n9. Projeto carrega automaticamente\n10. Pronto para usar! üéâ"
    },
    {
      "id": "t5226",
      "descricao": "Onde pega os recentes, ter a op√ß√£o de buscar por um arquivo (como um buscador de arquivos mesmo)"
    }
  ]
}